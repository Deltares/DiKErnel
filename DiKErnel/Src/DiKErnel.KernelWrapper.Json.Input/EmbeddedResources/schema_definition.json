{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "$id": "json.DiKErnel.com/jsonschema/",
  "title": "DiKErnel schema 1.0",
  "type": "object",
  "required": [
    "rekendata"
  ],
  "additionalProperties": false,
  "properties": {
    "procesdata": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "uitvoerRekenresultaten": {
          "enum": [
            "falen",
            "schade",
            "fysica"
          ]
        }
      }
    },
    "rekendata": {
      "type": "object",
      "required": [
        "tijdstippen",
        "hydraulischeBelastingen",
        "dijkprofiel",
        "locaties"
      ],
      "additionalProperties": false,
      "properties": {
        "tijdstippen": {
          "type": "array",
          "minItems": 2,
          "items": {
            "type": "number"
          }
        },
        "hydraulischeBelastingen": {
          "type": "object",
          "required": [
            "waterstanden",
            "golfhoogtenHm0",
            "golfperiodenTm10",
            "golfhoeken"
          ],
          "additionalProperties": false,
          "properties": {
            "waterstanden": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "number"
              }
            },
            "golfhoogtenHm0": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "number"
              }
            },
            "golfperiodenTm10": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "number"
              }
            },
            "golfhoeken": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "number"
              }
            }
          }
        },
        "dijkprofiel": {
          "type": "object",
          "required": [
            "posities",
            "hoogten",
            "teenBuitenzijde",
            "kruinBuitenzijde"
          ],
          "additionalProperties": false,
          "properties": {
            "posities": {
              "type": "array",
              "minItems": 2,
              "items": {
                "type": "number"
              }
            },
            "hoogten": {
              "type": "array",
              "minItems": 2,
              "items": {
                "type": "number"
              }
            },
            "teenBuitenzijde": {
              "type": "number"
            },
            "kruinBermBuitenzijde": {
              "type": "number"
            },
            "insteekBermBuitenzijde": {
              "type": "number"
            },
            "kruinBuitenzijde": {
              "type": "number"
            }
          }
        },
        "locaties": {
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "object",
            "required": [
              "positie",
              "beginschade",
              "rekenmethode",
              "typeToplaag"
            ],
            "additionalProperties": false,
            "properties": {
              "positie": {
                "type": "number"
              },
              "beginschade": {
                "type": "number"
              },
              "rekenmethode": {
                "$ref": "#/definitions/rekenmethode"
              },
              "typeToplaag": {
                "$ref": "#/definitions/typeToplaag"
              },
              "dikteToplaag": {
                "type": "number"
              },
              "relatieveDichtheid": {
                "type": "number"
              },
              "breuksterkteAsfalt": {
                "type": "number"
              },
              "veerconstanteOndergrond": {
                "type": "number"
              },
              "toplaag": {
                "type": "object",
                "required": [
                  "dikte",
                  "stijfheidsmodulus"
                ],
                "additionalProperties": false,
                "properties": {
                  "dikte": {
                    "type": "number"
                  },
                  "stijfheidsmodulus": {
                    "type": "number"
                  }
                }
              },
              "onderlaag": {
                "type": "object",
                "required": [
                  "dikte",
                  "stijfheidsmodulus"
                ],
                "additionalProperties": false,
                "properties": {
                  "dikte": {
                    "type": "number"
                  },
                  "stijfheidsmodulus": {
                    "type": "number"
                  }
                }
              },
              "tanA": {
                "type": "number"
              },
              "verhogingBelastingOvergangAlfaM": {
                "type": "number"
              },
              "verlagingSterkteOvergangAlfaS": {
                "type": "number"
              },
              "bermFactorGammaB": {
                "type": "number"
              },
              "ruwheidsFactorGammaF": {
                "type": "number"
              }
            },
            "oneOf": [
              {
                "properties": {
                  "rekenmethode": {
                    "const": "asfaltGolfklap"
                  },
                  "typeToplaag": {
                    "not": {
                      "enum": [
                        "noorseSteen",
                        "grasGeslotenZode",
                        "grasOpenZode"
                      ]
                    }
                  }
                },
                "required": [
                  "breuksterkteAsfalt",
                  "veerconstanteOndergrond",
                  "toplaag",
                  "tanA"
                ]
              },
              {
                "properties": {
                  "rekenmethode": {
                    "const": "grasGolfklap"
                  },
                  "typeToplaag": {
                    "not": {
                      "enum": [
                        "noorseSteen",
                        "waterbouwAsfaltBeton"
                      ]
                    }
                  }
                }
              },
              {
                "properties": {
                  "rekenmethode": {
                    "const": "grasGolfoploop"
                  },
                  "typeToplaag": {
                    "not": {
                      "enum": [
                        "noorseSteen",
                        "waterbouwAsfaltBeton"
                      ]
                    }
                  }
                },
                "required": [
                  "tanA"
                ]
              },
              {
                "properties": {
                  "rekenmethode": {
                    "const": "natuursteen"
                  },
                  "typeToplaag": {
                    "not": {
                      "enum": [
                        "waterbouwAsfaltBeton",
                        "grasGeslotenZode",
                        "grasOpenZode"
                      ]
                    }
                  }
                },
                "required": [
                  "dikteToplaag",
                  "relatieveDichtheid"
                ]
              }
            ]
          }
        },
        "rekenmethoden": {
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "object",
            "required": [
              "rekenmethode",
              "faalgetal",
              "toplagen"
            ],
            "additionalProperties": false,
            "properties": {
              "rekenmethode": {
                "$ref": "#/definitions/rekenmethode"
              },
              "faalgetal": {
                "type": "number"
              },
              "toplagen": {
                "type": "array",
                "items": {
                  "type": "object",
                  "required": [
                    "typeToplaag"
                  ],
                  "additionalProperties": false,
                  "properties": {
                    "typeToplaag": {
                      "$ref": "#/definitions/typeToplaag"
                    },
                    "stabiliteit": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "xib": {
                          "type": "number"
                        },
                        "plunging": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "a": {
                              "type": "number"
                            },
                            "b": {
                              "type": "number"
                            },
                            "c": {
                              "type": "number"
                            },
                            "n": {
                              "type": "number"
                            }
                          }
                        },
                        "surging": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "a": {
                              "type": "number"
                            },
                            "b": {
                              "type": "number"
                            },
                            "c": {
                              "type": "number"
                            },
                            "n": {
                              "type": "number"
                            }
                          }
                        }
                      }
                    },
                    "stijfheidsverhoudingNu": {
                      "type": "number"
                    },
                    "vermoeiingAsfalt": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "alfa": {
                          "type": "number"
                        },
                        "beta": {
                          "type": "number"
                        }
                      }
                    },
                    "standtijdlijn": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "a": {
                          "type": "number"
                        },
                        "b": {
                          "type": "number"
                        },
                        "c": {
                          "type": "number"
                        }
                      }
                    },
                    "kritiekeCumulatieveOverbelasting": {
                      "type": "number"
                    },
                    "kritiekeFrontsnelheid": {
                      "type": "number"
                    }
                  }
                }
              },
              "hellingvlak": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "bovenzijde": {
                    "type": "number"
                  },
                  "onderzijde": {
                    "type": "number"
                  }
                }
              },
              "belastingzone": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "bovengrens": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "a": {
                        "type": "number"
                      },
                      "b": {
                        "type": "number"
                      },
                      "c": {
                        "type": "number"
                      }
                    }
                  },
                  "ondergrens": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "a": {
                        "type": "number"
                      },
                      "b": {
                        "type": "number"
                      },
                      "c": {
                        "type": "number"
                      }
                    }
                  }
                }
              },
              "afstandMaximaleStijghoogte": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "a": {
                    "type": "number"
                  },
                  "b": {
                    "type": "number"
                  }
                }
              },
              "maatgevendeBreedteGolfklap": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "a": {
                    "type": "number"
                  },
                  "b": {
                    "type": "number"
                  }
                }
              },
              "impactGolfhoek": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "aBeta": {
                    "type": "number"
                  },
                  "betaMax": {
                    "type": "number"
                  },
                  "n": {
                    "type": "number"
                  },
                  "q": {
                    "type": "number"
                  },
                  "r": {
                    "type": "number"
                  }
                }
              },
              "soortelijkeDichtheidWater": {
                "type": "number"
              },
              "factorCtm": {
                "type": "number"
              },
              "stootgetalC": {
                "type": "number"
              },
              "breedteFactoren": {
                "type": "array",
                "items": {
                  "type": "array",
                  "minItems": 2,
                  "maxItems": 2,
                  "items": {
                    "type": "number"
                  }
                }
              },
              "diepteFactoren": {
                "type": "array",
                "items": {
                  "type": "array",
                  "minItems": 2,
                  "maxItems": 2,
                  "items": {
                    "type": "number"
                  }
                }
              },
              "stootFactoren": {
                "type": "array",
                "items": {
                  "type": "array",
                  "minItems": 2,
                  "maxItems": 2,
                  "items": {
                    "type": "number"
                  }
                }
              },
              "temax": {
                "type": "number"
              },
              "temin": {
                "type": "number"
              },
              "rekenprotocol": {
                "type": "object",
                "required": [
                  "typeRekenprotocol"
                ],
                "additionalProperties": false,
                "properties": {
                  "typeRekenprotocol": {
                    "const": "rayleighDiscreet"
                  },
                  "aantalGolvenVast": {
                    "type": "integer"
                  },
                  "frontsnelheid": {
                    "type": "number"
                  }
                }
              },
              "representatieveGolfoploop2p": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "a": {
                    "type": "number"
                  },
                  "b": {
                    "type": "number"
                  },
                  "c": {
                    "type": "number"
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "definitions": {
    "rekenmethode": {
      "$id": "#/definitions/rekenmethode",
      "enum": [
        "asfaltGolfklap",
        "grasGolfklap",
        "grasGolfoploop",
        "natuursteen"
      ]
    },
    "typeToplaag": {
      "$id": "#/definitions/typeToplaag",
      "enum": [
        "grasGeslotenZode",
        "grasOpenZode",
        "noorseSteen",
        "waterbouwAsfaltBeton"
      ]
    }
  }
}